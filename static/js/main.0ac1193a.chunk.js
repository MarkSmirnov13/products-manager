(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(61)},52:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),u=a(12),o=a(7),l=a(33),d=a(34),m=a(13),s=a(8),p=a(16),f=a(17),E=[{id:1,name:"TV & Home Cinema"},{id:2,name:"Laptops"},{id:3,name:"Watches"},{id:4,name:"Headphones"},{id:5,name:"Phones"},{id:6,name:"Desktops"},{id:7,name:"Monitors"},{id:8,name:"Printers"},{id:9,name:"Monitors"},{id:10,name:"Camera & Photo"},{id:11,name:"Audio & HiFi"}],h=new function e(){Object(f.a)(this,e),this.getCategories=function(){return E}},g="RECEIVE_CATEGORIES",b=function(){return function(e){e({type:"REQUEST_CATEGORIES"}),e(function(e){return{type:g,categories:e.map(function(e){return e})}}(h.getCategories()))}};var v=[{id:1,name:"TV",rating:9,featured:!0,itemsInStock:2,receiptDate:null,brand:"JVC",categories:[1,2,9],expirationDate:null,createdAt:"2019-04-30T16:00:40+03:00"},{id:2,name:"iPhone",rating:2,featured:!1,itemsInStock:0,receiptDate:"2019-06-14",brand:"Apple",categories:[5,4,3],expirationDate:"2019-05-20",createdAt:"2019-05-14T16:00:40+03:00"},{id:3,name:"laptop",rating:5,featured:!1,itemsInStock:10,receiptDate:null,brand:"HP",categories:[2],expirationDate:null,createdAt:"2019-05-20T16:00:40+03:00"}],D=new function e(){Object(f.a)(this,e),this.getProducts=function(){return v},this.addProduct=function(e){return v.push(e)},this.deleteProduct=function(e){var t=v.findIndex(function(t){return t.id===e});t>-1&&v.splice(t,1)},this.updateProduct=function(e){var t=e.id,a=v.findIndex(function(e){return e.id===t});a>-1&&(v[a]=e)}},O="RECEIVE_PRODUCTS",j="ADD_PRODUCT",y="DELETE_PRODUCT",k="UPDATE_PRODUCT",I=function(e){return function(t){t(function(e){return{type:j,product:e}}(e)),D.addProduct(e)}},P=function(){return function(e){e({type:"REQUEST_PRODUCTS"}),e(function(e){return{type:O,products:e.map(function(e){return e})}}(D.getProducts()))}},x=function(e){return function(t){t(function(e){return{type:y,productId:e}}(e)),D.deleteProduct(e)}},C=function(e){return function(t){t(function(e){return{type:k,product:e}}(e)),D.updateProduct(e)}};var S=Object(u.combineReducers)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(p.a)(t.categories);default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(p.a)(t.products);case j:return[].concat(Object(p.a)(e),[t.product]);case y:return Object(p.a)(e.filter(function(e){return e.id!==t.productId}));case k:var a=t.product.id,n=e.findIndex(function(e){return e.id===a});return e[n]=t.product,Object(p.a)(e);default:return e}}}),w=a(14),T=a(15),N=function(e){var t=e.children;return r.a.createElement("div",null,t)},R=a(35),A=a(40),M=a(36),V=a(41),Y=function(e){var t=e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"h3"},t),r.a.createElement("hr",null))},U=a(69),F=a(70),L=a(71),_=a(37),B=a(62),H=a(63),J=a(64),q=a(65),G=a(66),Q=a(67),W=a(68),z=a(22),K=a.n(z),X=(a(52),function(e){var t=e.product,a=Object(o.c)(),n=t.receiptDate?K()(t.receiptDate).format("MM/DD/YYYY"):"-",c=t.expirationDate?K()(t.expirationDate).format("MM/DD/YYYY"):"-",i=t.createdAt?K()(t.createdAt).format("MM/DD/YYYY hh:mm a"):"-";return r.a.createElement(B.a,{className:"Product"},r.a.createElement(H.a,null,r.a.createElement(J.a,null,t.name),r.a.createElement(q.a,{tag:"div"},r.a.createElement(G.a,null,r.a.createElement(Q.a,null,"Brand: ",t.brand),r.a.createElement(Q.a,null,"Rating: ",t.rating),r.a.createElement(Q.a,null,"Featured: ",t.featured?"Yes":"No"),r.a.createElement(Q.a,null,"Items In Stock: ",t.itemsInStock),r.a.createElement(Q.a,null,"Categories:",r.a.createElement("ul",null,t.categories.map(function(e){return r.a.createElement("li",{key:e.id},e.name)}))),r.a.createElement(Q.a,null,"Receipt Date: ",n),r.a.createElement(Q.a,null,"Expiration Date: ",c),r.a.createElement(Q.a,null,"Created At: ",i))),r.a.createElement(w.b,{to:"/update/".concat(t.id),className:"btn btn-primary"},"Update"),r.a.createElement(W.a,{color:"danger",onClick:function(){return e=t.id,void a(x(e));var e}},"Delete")))}),Z=function(e){var t=e.products,a=Object(_.chunk)(t,3);return r.a.createElement(U.a,null,a.map(function(e,a){return r.a.createElement(F.a,{key:t[a].id,className:"mb-5"},e.map(function(e){return r.a.createElement(L.a,{sm:"4",key:e.id},r.a.createElement(X,{product:e}))}))}))},$=(a(58),function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Products Manager"))}),ee=function(e){function t(){return Object(f.a)(this,t),Object(A.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e(b()),e(P())}},{key:"render",value:function(){var e=this.props.products;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{name:"Products"}),r.a.createElement(w.b,{to:"/add"},"Add product"),r.a.createElement(Z,{products:e}),r.a.createElement($,null))}}]),t}(n.Component),te=Object(o.b)(function(e){var t=function(e){return e.categories.reduce(function(e,t){return Object(s.a)({},e,Object(m.a)({},t.id,t))},{})}(e);return{products:e.products.map(function(e){var a=e.categories.map(function(e){return t[e]});return Object(s.a)({},e,{categories:a})})}})(ee),ae=function(){return r.a.createElement("h1",null,"Not Found")},ne=a(25),re=a(72),ce=a(73),ie=a(74),ue=a(75),oe=a(76),le={name:"",rating:"",featured:!1,itemsInStock:"",receiptDate:"",brand:"",categories:[],expirationDate:""},de=function(e,t){return Math.ceil((e.getTime()-t.getTime())/864e5)-1},me=function(e,t,a){var n=[];return"updateProduct"===a?(e.forEach(function(e){-1!==t.categories.indexOf(e.id)&&n.push(e.id)}),n):n},se=Object(T.e)(function(e){var t=e.type,a=e.product,c=e.history,i=function(e,t){return{productIsValid:{name:e,rating:e,featured:!0,categories:e,expirationDate:!e||!t||de(new Date(t),new Date)>=30},formIsValid:!1}}("updateProduct"===t,a&&a.expirationDate),u=Object(o.c)(),l=Object(o.d)(function(e){return 0===e.categories.length&&u(b()),e.categories}),d=Object(n.useState)("addProduct"===t?le:a),p=Object(ne.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(i),g=Object(ne.a)(h,2),v=g[0],D=g[1];Object(n.useEffect)(function(){O()},[v]);var O=function(){D(function(e){return Object(s.a)({},e,{formIsValid:(t=e.productIsValid,Object.keys(t).every(function(e){return t[e]}))});var t})},j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(function(n){var r;return Object(s.a)({},n,{productIsValid:Object(s.a)({},n.productIsValid,(r={},Object(m.a)(r,e,t),Object(m.a)(r,"additionalProp",a),r))})}),function(e,t){var a=document.getElementById(e);t?(a.classList.remove("is-invalid"),a.classList.add("is-valid")):(a.classList.remove("is-valid"),a.classList.add("is-invalid"))}(e,t)},y=function(e,t){switch(e){case"name":var a=t.length>0&&t.length<=200;j(e,a);break;case"rating":var n=Number(t),r=n&&n<=10&&n>0&&Number.isInteger(n);n>8&&!f.featured?E(function(e){return Object(s.a)({},e,{featured:!0})}):n<=8&&document.getElementById("featured").classList.remove("is-invalid"),j(e,r,{featured:!0});break;case"featured":var c=!(Number(f.rating)>8)||t;j(e,c);break;case"categories":var i=t.length>0&&t.length<5;j(e,i);break;case"expirationDate":var u=new Date(t),o=new Date,l=!t||de(u,o)>=30;j(e,l)}},k=function(e){var t,a=e.target,n=a.name;if(a.options){var r=a.options;t=[];for(var c=0;c<r.length;c+=1)r[c].selected&&t.push(Number(r[c].value))}else t="checkbox"===a.type?a.checked:"number"===a.type?Number(a.value):a.value;E(function(e){return Object(s.a)({},e,Object(m.a)({},n,t))}),y(n,t)};return r.a.createElement(re.a,{onSubmit:function(e){e.preventDefault(),(v.formIsValid||(Object.keys(f).forEach(function(e){return y(e,f[e])}),v.formIsValid))&&(u("addProduct"===t?I(Object(s.a)({},f,{id:Math.floor(1e5*Math.random()),createdAt:(new Date).toISOString()})):C(f)),c.push("/"))}},r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"name"},"Name"),r.a.createElement(ue.a,{type:"text",name:"name",id:"name",placeholder:"product name",value:f.name,onChange:k}),r.a.createElement(oe.a,null,"Name is required, length not greater than 200")),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"brand"},"Brand"),r.a.createElement(ue.a,{type:"text",name:"brand",id:"brand",placeholder:"product brand",value:f.brand,onChange:k})),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"rating"},"Rating"),r.a.createElement(ue.a,{type:"number",name:"rating",id:"rating",placeholder:"product rating",value:f.rating,onChange:k}),r.a.createElement(oe.a,null,"Rating is required and must be integer and not greater than 10")),r.a.createElement(ce.a,{check:!0},r.a.createElement(ie.a,{for:"featured",check:!0},r.a.createElement(ue.a,{type:"checkbox",name:"featured",id:"featured",checked:f.featured,onChange:k}),"Featured",r.a.createElement(oe.a,null,"Product with rating greater than 8 must be \u201cfeatured\u201d"))),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"itemsInStock"},"Items In Stock"),r.a.createElement(ue.a,{type:"number",name:"itemsInStock",id:"itemsInStock",placeholder:"items in stock",value:f.itemsInStock,onChange:k})),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"categories"},"Categories"),r.a.createElement(ue.a,{type:"select",id:"categories",name:"categories",defaultValue:me(l,f,t),onChange:k,multiple:!0},l&&l.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(oe.a,null,"Product should have from 1 to 5 categories")),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"receiptDate"},"Receipt Date"),r.a.createElement(ue.a,{type:"date",name:"receiptDate",id:"receiptDate",placeholder:"receipt date",value:f.receiptDate,onChange:k})),r.a.createElement(ce.a,null,r.a.createElement(ie.a,{for:"expirationDate"},"Expiration Date"),r.a.createElement(ue.a,{type:"date",name:"expirationDate",id:"expirationDate",placeholder:"expiration date",value:f.expirationDate,onChange:k}),r.a.createElement(oe.a,null,"Expiration date should expire not less than 30 days since now")),r.a.createElement(W.a,{type:"submit"},"addProduct"===t?"Add":"Save"))}),pe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{name:"Add product"}),r.a.createElement(se,{type:"addProduct"}),r.a.createElement($,null))},fe=function(e){var t=e.match.params.id,a=Object(o.c)(),n=Number(t),c=Object(o.d)(function(e){return 0===e.products.length&&a(P()),e.products.filter(function(e){return e.id===n})});return c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{name:"Update product"}),r.a.createElement(se,{product:c[0],type:"updateProduct"}),r.a.createElement($,null)):"Product Not Found"};var Ee=function(){return r.a.createElement(w.a,null,r.a.createElement(N,null,r.a.createElement(T.c,null,r.a.createElement(T.a,{exact:!0,path:"/",component:te}),",",r.a.createElement(T.a,{path:"/add",component:pe}),r.a.createElement(T.a,{path:"/update/:id",component:fe}),r.a.createElement(T.a,{path:"*",component:ae}),",")))},he=(a(59),a(60),Object(u.createStore)(S,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(l.a))));i.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement(o.a,{store:he},Ee())))},null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0ac1193a.chunk.js.map